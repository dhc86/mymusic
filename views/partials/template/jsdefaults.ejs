<script src="https://connect.soundcloud.com/sdk/sdk-3.0.0.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>


<!-- this is side nabvar toggle functionality-->
<script>
$(function(){

// Soundcloud API
  SC.initialize({
    client_id: '90cf30ff04eaf9e6a8212991b27f9a3b'
  });

  $('.find-song-button').on('click', function(e){
    e.preventDefault();


    var title = $('input').val();

      SC.oEmbed('https://soundcloud.com/friendlistworld/metallica-master-of-puppets', {
    
      // element: document.getElementById('putTheWidgetHere')
      // auto_play: true
    }).then(function(embed){
      console.log(embed);
      console.log(embed.html);
      console.log(embed.title);
    });

  

 

    // var track_url = 'http://soundcloud.com/forss/flickermood';
    // SC.oEmbed(track_url, { auto_play: true }).then(function(oEmbed) {
    //   console.log('oEmbed response: ', oEmbed);
    // });   


  });

// youtube API
  $('.find-video-button').on('click', function(e) {
    console.log("here we are !")
    e.preventDefault();
    var search_topic = $('input').val()
    $.ajax({
      url: 'https://www.googleapis.com/youtube/v3/search?part=snippet&q='+search_topic+'&type=video&videoCaption=closedCaption&key=AIzaSyDcADPFKszTytXes32wpf2iotWdTdsMlEU',
      method: 'GET',
      dataType: 'jsonp',
      success: function(data){ 

        var result = data.items;
        // console.log('complete response', result);

        $.each(result, function(index, item){
          console.log('each look response', item);
          var video = "https://www.youtube.com/embed/";
          var videoid= item.id.videoId;

          // constructing the html to add in DOM
          var html = [
          '<div class="embed-responsive embed-responsive-16by9 videos-display">',
            '<iframe class="embed-responsive-item" width="400" height="215" src="'+video+videoid+'">',
          '</div>'
          ].join("\n");

          $(html).appendTo('.show-videos');

          $('.show-videos').append("<button type='submit' info="+video+videoid+"  class='btn btn-inverted btn-block btn-xs save-video-button'><span class='glyphicon glyphicon-thumbs-up' aria-hidden='true'></span> Save it!</button>");
        });
        //getting the url of embeded video to be saved (named info)
        $('.save-video-button').on('click', function(event) {
          var info = $( this ).closest( "button" ).attr('info');
          console.log(info);
          debugger
        });      
      }    
    });
  });



  // $('.active-menu').on('click', function(){
  //   $('.active-menu').removeClass('selected');
  //   $(this).addClass('selected');
  // });

// navbar menu slide functionality
  $('#menu-toggle').on('click', function(e){
    e.preventDefault();
    if( $('#sidebar-wrapper').is(':visible') ) {
      $('#navbar-selection').hide('slow');
      $('#sidebar-wrapper').animate({ 'width': '0px' }, 'slow', function(){

      $('#sidebar-wrapper').hide();
      });
      $('#page-content-wrapper').animate({ 'padding-left': '0px' }, 'slow');
    }
    else {
      $('#sidebar-wrapper').show();
      $('#navbar-selection').show('slow');
      $('#sidebar-wrapper').animate({ 'width': '250px' }, 'slow');
      $('#page-content-wrapper').animate({ 'padding-left': '250px' }, 'slow');
    }
  });
});
</script>